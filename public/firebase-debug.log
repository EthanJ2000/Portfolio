[debug] [2019-07-31T08:59:53.107Z] ----------------------------------------------------------------------
[debug] [2019-07-31T08:59:53.110Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\Ethan\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2019-07-31T08:59:53.111Z] CLI Version:   7.2.1
[debug] [2019-07-31T08:59:53.111Z] Platform:      win32
[debug] [2019-07-31T08:59:53.111Z] Node Version:  v10.16.0
[debug] [2019-07-31T08:59:53.112Z] Time:          Wed Jul 31 2019 10:59:53 GMT+0200 (South Africa Standard Time)
[debug] [2019-07-31T08:59:53.112Z] ----------------------------------------------------------------------
[debug] 
[debug] [2019-07-31T08:59:53.124Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2019-07-31T08:59:53.125Z] > authorizing via signed-in user
[debug] [2019-07-31T08:59:53.126Z] [iam] checking project form-658b2 for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2019-07-31T08:59:53.128Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/form-658b2:testIamPermissions  

[debug] [2019-07-31T08:59:55.918Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'form-658b2'...
[info] 
[info] i  deploying functions
[debug] [2019-07-31T09:00:01.854Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase serve --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "8"
  },
  "dependencies": {
    "body-parser": "^1.19.0",
    "dotenv": "^8.0.0",
    "express": "^4.17.1",
    "express-handlebars": "^3.1.0",
    "firebase-admin": "^8.0.0",
    "firebase-functions": "^3.1.0",
    "nodemailer": "^6.3.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.1.6",
    "nodemailer": "^6.3.0"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2019-07-31T09:00:01.859Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/form-658b2/services/cloudfunctions.googleapis.com  
 
[debug] [2019-07-31T09:00:01.860Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/form-658b2/services/runtimeconfig.googleapis.com  
 
[debug] [2019-07-31T09:00:04.552Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:04.581Z] <<< HTTP RESPONSE 200
[info] +  functions: all necessary APIs are enabled
[debug] [2019-07-31T09:00:04.589Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/form-658b2/adminSdkConfig  
 
[debug] [2019-07-31T09:00:05.357Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2019-07-31T09:00:05.370Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/form-658b2/configs  
 
[debug] [2019-07-31T09:00:06.328Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:06.330Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/form-658b2/configs/gmail/variables  
 
[debug] [2019-07-31T09:00:06.850Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:06.851Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/form-658b2/configs/gmail/variables/email  
 
[debug] [2019-07-31T09:00:06.852Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/form-658b2/configs/gmail/variables/password  
 
[debug] [2019-07-31T09:00:07.428Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:07.431Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (27.44 KB) for uploading
[debug] [2019-07-31T09:00:08.838Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/form-658b2/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2019-07-31T09:00:09.690Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:09.692Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-a8f0e298-ec8e-4aa7-b4ab-255b753b388d/af678108-75b7-4cc1-8411-d302d6795acb.zip?GoogleAccessId=service-1051013261903@gcf-admin-robot.iam.gserviceaccount.com&Expires=1564565409&Signature=uiqmZ%2BHdMdSlTZRlorNZBes6c5G9qFaSiol94sUhlmI9Ek219RGaEsHJMzQeX9D5q2kuHnBiJZZTG%2B5745WCss0UVAPf0FsaDUkx0xE%2FcbCP7Vum%2F0VAZ7kiy86zj2Ym3wC5EpfQM32bophITwJZ2P0RY23gODzKpcFV3O72Xz9BtolXpemZfrrZ42tq2R04Owv3aSMK8d1vQBvxnTLbJQuFTZ9reU2y0DEuSFwcl1h27HsrmRPBoGKMtmxKlZ4Rne%2BG7OkEDwVGk33auym5xtHYD%2FtN%2FBJLsBiCztJ7%2FsiZURMZLoZIvpXtWoSHNhNRcv557sWn%2BKzEwR82n1Bj1Q%3D%3D  
 <request body omitted>
[debug] [2019-07-31T09:00:10.839Z] <<< HTTP RESPONSE 200
[info] +  functions: functions folder uploaded successfully
[debug] [2019-07-31T09:00:10.850Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/form-658b2/locations/-/functions  
 
[debug] [2019-07-31T09:00:11.482Z] <<< HTTP RESPONSE 200
[info] i  functions: creating Node.js 8 function checkRecaptcha(us-central1)...
[debug] [2019-07-31T09:00:11.493Z] Trigger is:  {"httpsTrigger":{}}
[info] i  functions: updating Node.js 8 function sendEmails1(us-central1)...
[debug] [2019-07-31T09:00:11.499Z] Trigger is:  {"eventTrigger":{"resource":"projects/_/instances/form-658b2/refs/messages/{name}","eventType":"providers/google.firebase.database/eventTypes/ref.create","service":"firebaseio.com"}}
[debug] [2019-07-31T09:00:11.504Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/form-658b2/services/cloudscheduler.googleapis.com  
 
[debug] [2019-07-31T09:00:13.608Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:13.616Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/form-658b2/locations/us-central1/functions  

[debug] [2019-07-31T09:00:13.618Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/form-658b2/locations/us-central1/functions/sendEmails1 {"updateMask":"sourceUploadUrl,name,labels,runtime,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 

[debug] [2019-07-31T09:00:14.320Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:14.340Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:14.343Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/form-658b2/locations/-/functions  
 
[debug] [2019-07-31T09:00:15.287Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:15.290Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9jaGVja1JlY2FwdGNoYS9vTVRlLXlrUy1iVQ  
 
[debug] [2019-07-31T09:00:15.291Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9zZW5kRW1haWxzMS9MTDVNdWZEOGxmUQ  
 
[debug] [2019-07-31T09:00:15.871Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:15.879Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:17.877Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9jaGVja1JlY2FwdGNoYS9vTVRlLXlrUy1iVQ  
 
[debug] [2019-07-31T09:00:17.885Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9zZW5kRW1haWxzMS9MTDVNdWZEOGxmUQ  
 
[debug] [2019-07-31T09:00:18.482Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:18.497Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:20.492Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9jaGVja1JlY2FwdGNoYS9vTVRlLXlrUy1iVQ  
 
[debug] [2019-07-31T09:00:20.498Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9zZW5kRW1haWxzMS9MTDVNdWZEOGxmUQ  
 
[debug] [2019-07-31T09:00:20.974Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:21.104Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:22.984Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9zZW5kRW1haWxzMS9MTDVNdWZEOGxmUQ  
 
[debug] [2019-07-31T09:00:23.115Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9jaGVja1JlY2FwdGNoYS9vTVRlLXlrUy1iVQ  
 
[debug] [2019-07-31T09:00:23.530Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:23.623Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:25.538Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9zZW5kRW1haWxzMS9MTDVNdWZEOGxmUQ  
 
[debug] [2019-07-31T09:00:25.625Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9jaGVja1JlY2FwdGNoYS9vTVRlLXlrUy1iVQ  
 
[debug] [2019-07-31T09:00:25.957Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:26.034Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:27.961Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9zZW5kRW1haWxzMS9MTDVNdWZEOGxmUQ  
 
[debug] [2019-07-31T09:00:28.039Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9jaGVja1JlY2FwdGNoYS9vTVRlLXlrUy1iVQ  
 
[debug] [2019-07-31T09:00:28.405Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:28.536Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:30.414Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9zZW5kRW1haWxzMS9MTDVNdWZEOGxmUQ  
 
[debug] [2019-07-31T09:00:30.553Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9jaGVja1JlY2FwdGNoYS9vTVRlLXlrUy1iVQ  
 
[debug] [2019-07-31T09:00:30.860Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:30.986Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:32.872Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9zZW5kRW1haWxzMS9MTDVNdWZEOGxmUQ  
 
[debug] [2019-07-31T09:00:32.988Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9jaGVja1JlY2FwdGNoYS9vTVRlLXlrUy1iVQ  
 
[debug] [2019-07-31T09:00:33.288Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:33.409Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:35.289Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9zZW5kRW1haWxzMS9MTDVNdWZEOGxmUQ  
 
[debug] [2019-07-31T09:00:35.420Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9jaGVja1JlY2FwdGNoYS9vTVRlLXlrUy1iVQ  
 
[debug] [2019-07-31T09:00:35.759Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:35.861Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:37.764Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9zZW5kRW1haWxzMS9MTDVNdWZEOGxmUQ  
 
[debug] [2019-07-31T09:00:37.864Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9jaGVja1JlY2FwdGNoYS9vTVRlLXlrUy1iVQ  
 
[debug] [2019-07-31T09:00:38.299Z] <<< HTTP RESPONSE 200
[warn] !  functions[sendEmails1(us-central1)]: Deployment error.
[info] Function failed on loading user code. Error message: Code in file index.js can't be loaded.
Did you list all required modules in the package.json dependencies?
Detailed stack trace: Error: Cannot find module 'request-promise'
    at Function.Module._resolveFilename (module.js:548:15)
    at Function.Module._load (module.js:475:25)
    at Module.require (module.js:597:17)
    at require (internal/module.js:11:18)
    at Object.<anonymous> (/srv/index.js:57:12)
    at Module._compile (module.js:653:30)
    at Object.Module._extensions..js (module.js:664:10)
    at Module.load (module.js:566:32)
    at tryModuleLoad (module.js:506:12)
    at Function.Module._load (module.js:498:3)
[debug] [2019-07-31T09:00:38.328Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:40.330Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9jaGVja1JlY2FwdGNoYS9vTVRlLXlrUy1iVQ  
 
[debug] [2019-07-31T09:00:40.788Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:42.801Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9jaGVja1JlY2FwdGNoYS9vTVRlLXlrUy1iVQ  
 
[debug] [2019-07-31T09:00:43.371Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:45.373Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9jaGVja1JlY2FwdGNoYS9vTVRlLXlrUy1iVQ  
 
[debug] [2019-07-31T09:00:45.836Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:47.845Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9jaGVja1JlY2FwdGNoYS9vTVRlLXlrUy1iVQ  
 
[debug] [2019-07-31T09:00:48.489Z] <<< HTTP RESPONSE 200
[debug] [2019-07-31T09:00:50.510Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Zm9ybS02NThiMi91cy1jZW50cmFsMS9jaGVja1JlY2FwdGNoYS9vTVRlLXlrUy1iVQ  
 
[debug] [2019-07-31T09:00:51.410Z] <<< HTTP RESPONSE 200
